<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Setting up a Wi-Fi IoT product &mdash; Spark Blog</title>
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="http://spark.github.io/staging-blog/assets/main.css">
    <link rel="shortcut icon" href="http://spark.github.io/staging-blog/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="http://spark.github.io/staging-blog/images/logo.png"/>
    <link href="/feed.xml" rel="alternate" type="application/rss+xml" title="Spark Blog" />
    <meta name="title" content="Setting up a Wi-Fi IoT product ">
    <link rel="canonical" href="http://spark.github.io/staging-blog/2014-03-24-setup-processes.not_published/">
    
    
    <meta property="og:title" content="Setting up a Wi-Fi IoT product "/>
    <meta property="og:url" content="http://spark.github.io/staging-blog/2014-03-24-setup-processes.not_published/"/>
    
    <meta property="og:image" content="http://spark.github.io/staging-blog/images/blog-cover.jpg"/>
    
    <meta property="og:image" content="http://spark.github.io/staging-blog/images/logo.png"/>
    
    
    <meta property="og:description" content="There are a number of methods to set up connected devices that don't have a keyboard or screen, each with its own advantages and disadvantages."/>
    <meta name="description" content="There are a number of methods to set up connected devices that don't have a keyboard or screen, each with its own advantages and disadvantages."/>
    
    <meta property="og:site_name" content="Spark Blog">
</head>
<body>

<section class="site-nav">
    <header>
        <nav id="navigation">
            <a class="brand" href="https://www.spark.io/">
                <img src="http://spark.github.io/staging-blog/images/logo.png" alt="Inc">
            </a>
            <a href="http://spark.github.io/staging-blog" class="home">Blog</a>
            <a href="https://store.spark.io/">Product</a>
            
        </nav>
        <nav class="tagline">
            <span>Wi-Fi for Everything</span>
            <a href="https://store.spark.io/" class="btn btn-outline">Buy Now</a>
        </nav>
    </header>
</section>


<div class="article-cover">
    <div>
        <img src="http://spark.github.io/staging-blog/images/blog-cover.jpg" class="image">
    </div>
</div>

<article>

    <div class="container">
        <header>
            <div class="meta">
                By <address><a rel="author" href="" title="Zach Supalla" target="_blank">Zach Supalla</a> &mdash;
                <time pubdate datetime="" title=""></time>
            </div>
            <h1 class="title">Setting up a Wi-Fi IoT product</h1>
            
        </header>

        <section>
            <p>One of the biggest challenges with &quot;connected devices&quot; is that they can be a pain to set up. This is particularly true when the device connects to a Wi-Fi network, and it doesn&#39;t have a screen or a keyboard. How are you supposed to type in your SSID and password without a keyboard?</p>

<div class="full zoomable"><img src="http://spark.github.io/staging-blog/images/chromecast.jpg"></div>

<p>There are a number of different ways to accomplish this task, and a variety of products that have taken different directions. Unfortunately there is no accepted standard, and there probably won&#39;t be until this becomes part of the 802.11 spec. In the meantime, here are the available approaches, with their advantages and disadvantages:</p>

<h3>Soft AP</h3>

<p>Perhaps the most common mechanism for setting up a connected device is to have it boot up as an Access Point. You then connect to its network, send in your Wi-Fi credentials, and re-connect back to your Wi-Fi network.</p>

<div class="full"><img src="http://spark.github.io/staging-blog/images/twine-setup.png"></div>

<p>Advantages:
- This is the closest thing there is to a standards-based process, so you can be relatively confident that it will work as expected.
- If you want to use the product without an existing Wi-Fi network, Soft AP mode might make this possible (see the Parrot AR.Drone)</p>

<p>Disadvantages:
- The process for setting up the device can be complicated, with many steps necessary, especially from a smartphone, where you have to manually switch to the settings panel and change the Wi-Fi network.
- Some of the cheapest Wi-Fi modules (like the Texas Instruments CC3000) do not have this capability, likely because it requires more RAM and/or processing power, which would make the chip more expensive.
- If you&#39;re setting up multiple devices, then the painful set-up process is compounded, because you would have to set up each one individually.</p>

<p>This method is used for the following devices:</p>

<ul>
<li><a href="http://www.supermechanical.com/twine">Supermechanical Twine</a></li>
<li><a href="http://ardrone2.parrot.com/">Parrot AR.Drone 2.0</a></li>
<li><a href="http://www.google.com/chromecast%E2%80%8E">Google Chromecast</a></li>
</ul>

<p>In my opinion, the best implementation of this process is the Google Chromecast, which uses a Chrome plug-in to make set-up extremely easy. The downside is that this process doesn&#39;t work on smartphones, so if a smartphone is your only way to connect to the device, the process is still relatively painful.</p>

<h3>WPS</h3>

<p>A device can be added to a network using either a PIN number provided by the access point or a push-button method, where you press a button on the router. More recently you can also do WPS set-up using NFC on newer routers.</p>

<p><img src="http://spark.github.io/staging-blog/images/wps.jpg"></p>

<p>Advantages:</p>

<ul>
<li>In theory, this process relatively simple and straightforward.</li>
<li>You don&#39;t have to remember your Wi-Fi password, especially if it&#39;s one of those annoying long hex passwords that is used in the default configuration.</li>
</ul>

<p>Disadvantages:
- Susceptible to <a href="http://www.kb.cert.org/vuls/id/723755">brute force attacks</a> to discover the PIN.
- This process is not available on all routers. That means you can&#39;t rely on this set-up method being available everywhere.
- WPS has to be enabled on the router, which might require digging into the router settings.
- You must have physical access to your router. Just <em>try</em> asking your IT guy for this if you&#39;re not in a home environment.</p>

<h3>Smart Config</h3>

<p>This is Texas Instrument&#39;s proprietary process for connecting a headless device to a Wi-Fi network. Set-up involves simply typing your Wi-Fi password and hitting &quot;connect&quot; on your smartphone. It&#39;s semi-magical, <a href="http://electronics.stackexchange.com/questions/61704/how-does-ti-cc3000-wifi-smart-config-work">encoding the data in the lengths of a barrage of UDP datagrams</a>.</p>

<p>This is the primary set-up process we use for the <a href="http://www.spark.io">Spark Core</a>, our CC3000-based Wi-Fi development kit.</p>

<div class="full zoomable"><img src="http://spark.github.io/staging-blog/images/easy-setup.jpg"></div>

<p>Advantages:</p>

<ul>
<li>When it works, it&#39;s magical. The easiest set-up process you could come up with that still has decent security in place.</li>
<li>TI provides libraries for implementing this on iOS and Android.</li>
</ul>

<p>Disadvantages:</p>

<ul>
<li>It doesn&#39;t always work. Namely it doesn&#39;t work on 802.11n MIMO networks, and really anytime your phone is transmitting at 5Ghz (because the CC3000 only has a 2.4Ghz antenna). It also is susceptible to areas with a lot of RF that might make it difficult to transmit uninterrupted UDP datagrams.</li>
<li>It can take a while to work - up to 90 seconds - and the feedback that the user gets in the meantime is limited, which can be confusing.</li>
<li>Currently iOS/Android/Java applet only, until TI decides to support more platforms.</li>
</ul>

<h3>BlinkUp</h3>

<p><a href="https://electricimp.com/product/blinkup/">BlinkUp</a> is <a href="http://www.electricimp.com">Electric Imp</a>&#39;s proprietary set-up process that uses light to transmit your Wi-Fi credentials to a product using a photosensor.</p>

<div class="full"><img src="http://spark.github.io/staging-blog/images/blinkup.jpg"></div>

<p>Advantages:</p>

<ul>
<li>BlinkUp is relatively simple and easy to use - not quite as easy as Smart Config, but not far off.</li>
<li>BlinkUp gets some added security because your phone and the device have to be right up against each other for this to work. Your Wi-Fi credentials are therefore transmitted only a short distance.</li>
</ul>

<p>Disadvantages:</p>

<ul>
<li>Doesn&#39;t always work, depending on the environment; you have to be in a somewhat dark room and have your two devices flush against each other. BlinkUp is reported to be a support issue for some of Imp&#39;s customers.</li>
<li>Debugging can be challenging, because the process is inherently a one-way communications process. Feedback is somewhat limited.</li>
<li>Although BlinkUp is a proprietary process, a company called <a href="https://revolv.com/">Revolv</a> has a similar process which apparently is not licensed from Electric Imp; this might turn into a patent battle at some point, once Imp&#39;s patent goes through (I&#39;m assuming it&#39;s still in process).</li>
<li>BlinkUp is also used on the manufacturing line, which sounds slick, but creates manufacturing issues, as holding up an iPad over 10 devices is not part of most standard manufacturing processes.</li>
</ul>

<h3>Bluetooth</h3>

<h3>USB</h3>

<h3>Add a screen and keyboard (ish)</h3>

<h3>Recommendations</h3>

            
<div class="social">
    <div>
        <a href="https://twitter.com/share" class="twitter-share-button"  data-text="Setting up a Wi-Fi IoT product" data-related="spark_io">Tweet</a>
    </div>
    
    
    <div>
        <div class="fb-like" data-width="150" data-layout="button_count" data-action="like" data-show-faces="true" data-send="false"></div>
    </div>
    
    
    
    
    <div>
        <a href="http://news.ycombinator.com/submit" class="hn-share-button">Vote on HN</a>
    </div>
    
</div>

        </section>

        <footer>
            <address>
               <img src="http://spark.github.io/staging-blog/images/zach.jpg">
                <p>Written by <strong><a rel="author" href="https://twitter.com/zsupalla" title="" target="_blank">Zach Supalla</a></strong><br>
                <span class="muted">Founder, CEO</span>
                </p>
            </address>

        </footer>

        
    </div>
</article>


<footer class="site-footer">
    <div class="container">
        &copy; 2015

        <nav>
            <a href="https://www.spark.io/">Spark IO</a> &middot;
            <a href="http://spark.github.io/staging-blog">Blog</a> &middot;
            <a href="https://store.spark.io/">Product</a> &middot; 
            
        </nav>

        <nav class="social">
            
            <a href="https://twitter.com/spark_io" title="Follow on Twitter" target="_blank"><i class="icon icon-twitter black"></i></a>
            
            
            <a href="http://facebook.com/sparkdevices" title="Follow on Facebook" target="_blank"><i class="icon icon-facebook black"></i></a>
            
            <a href="/feed.xml" title="RSS Feed">
                <i class="icon icon-rss black"></i>
            </a>
        </nav>
        <p>Incorporated theme by <a href="https://sendtoinc.com">Inc</a></p>
    </div>
</footer>

<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script src="http://spark.github.io/staging-blog/assets/appear.js"></script>
<script src="http://spark.github.io/staging-blog/assets/main.js"></script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=253595308025739";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<script>
    (function(d, t) {
        var g = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        g.src = '//hnbutton.appspot.com/static/hn.min.js';
        s.parentNode.insertBefore(g, s);
    }(document, 'script'));
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-37038200-4', 'http://spark.github.io/staging-blog');
  ga('send', 'pageview');
</script>

</body>
</html>
